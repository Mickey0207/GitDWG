# GitDWG 圖形化分支管理器使用指南

## ?? 全新功能介紹

GitDWG v1.1.0 引入了專業級的圖形化分支管理器，提供類似VS Code Git Graph的視覺化Git操作體驗。

## ?? 如何開啟分支圖形管理器

### 方法一：使用功能表
1. 點擊頂端功能表的 **Git(G)**
2. 選擇 **分支圖形管理器**

### 方法二：使用快捷鍵
- 按下 `Ctrl+Shift+G` 快速開啟

### 前置條件
- 必須先選擇或初始化一個Git儲存庫
- 儲存庫必須包含至少一個提交記錄

## ?? 界面佈局

分支圖形管理器採用三欄式設計，提供完整的Git視覺化體驗：

### 左側面板 - 分支管理
```
┌─────────────────┐
│   分支管理      │
├─────────────────┤
│ [建立新分支]     │
│                 │
│ 所有分支        │
│ ● master       │ ← 當前分支
│ ○ feature-1    │
│ ○ hotfix-2     │
└─────────────────┘
```

#### 功能特色：
- **當前分支標示**: ● 實心圓點標示當前分支
- **分支列表**: ○ 空心圓點標示其他分支
- **快速切換**: 點擊分支名稱即可切換
- **視覺回饋**: 當前分支使用藍色背景突出顯示

### 中間面板 - 提交圖形
```
┌─────────────────────────────────┐
│           提交圖形              │
├─────────────────────────────────┤
│ [重新整理] [適合視窗]            │
│                                 │
│ ● ─ 新增用戶登入功能            │
│ │                               │
│ ● ─ 修復DWG檔案鎖定問題         │
│ │                               │
│ ● ─ 初始化專案                  │
└─────────────────────────────────┘
```

#### 圖形元素：
- **提交節點**: 藍色圓圈代表每個提交
- **連接線**: 灰色線條顯示提交關係
- **提交訊息**: 節點旁顯示提交描述（最多40字元）
- **SHA標籤**: 7位元的短SHA值（Consolas字體）

#### 互動功能：
- **縮放支援**: 使用滑鼠滾輪縮放圖形
- **平移導航**: 拖拽移動查看大型提交圖
- **節點點擊**: 點擊提交節點查看詳細資訊

### 右側面板 - 詳細資訊
```
┌─────────────────────┐
│   提交詳細資訊      │
├─────────────────────┤
│ 提交SHA:            │
│ abc1234             │
│                     │
│ 提交訊息:           │
│ 新增用戶登入功能    │
│                     │
│ 作者: John Doe      │
│ 日期: 2024/01/15    │
│                     │
│ [查看變更]          │
│ [安全回復]          │
└─────────────────────┘
```

## ?? 主要功能說明

### 1. 分支管理

#### 建立新分支
1. 點擊左側面板的 **[建立新分支]** 按鈕
2. 在對話框中輸入分支名稱
3. 點擊 **[建立]** 完成創建

#### 切換分支
1. 在左側分支列表中點擊目標分支
2. 在確認對話框中點擊 **[切換]**
3. 系統將自動切換並重新載入資料

#### 分支狀態識別
- **● 藍色實心圓**: 當前活躍分支
- **○ 灰色空心圓**: 其他可用分支
- **藍色背景**: 當前分支的視覺高亮

### 2. 提交歷史視覺化

#### 圖形顯示特色
- **時間順序**: 從上到下按時間順序排列
- **分支關係**: 線條連接顯示提交關係
- **資訊豐富**: 每個節點顯示關鍵資訊
- **響應式設計**: 自動調整畫布大小

#### 導航控制
- **縮放**: 使用滑鼠滾輪或手勢縮放
- **平移**: 拖拽移動查看不同區域
- **重置視圖**: 點擊 **[適合視窗]** 重置縮放和位置

### 3. 提交詳細檢視

#### 資訊顯示
- **提交SHA**: 完整的7位元短SHA
- **提交訊息**: 完整的提交描述
- **作者資訊**: 提交作者姓名
- **時間戳記**: 精確到分鐘的提交時間

#### 可用操作
- **查看變更**: 檢視該提交的檔案變更（開發中）
- **安全回復**: 創建新提交撤銷後續變更

### 4. 版本回復功能

#### 安全回復 (推薦)
- **原理**: 創建新提交來撤銷變更
- **優點**: 保留完整的提交歷史
- **適用**: 大多數回復需求

#### 操作步驟
1. 點擊目標提交節點
2. 在右側面板點擊 **[安全回復]**
3. 確認回復操作
4. 系統自動創建回復提交

## ?? 使用場景指南

### 場景1: 查看專案歷史
```
目的：了解專案開發進程
步驟：
1. 開啟分支圖形管理器
2. 查看中間面板的提交圖形
3. 點擊感興趣的提交節點
4. 在右側面板查看詳細資訊
```

### 場景2: 管理多個分支
```
目的：在不同功能分支間切換
步驟：
1. 查看左側分支列表
2. 點擊目標分支名稱
3. 確認切換操作
4. 驗證分支已成功切換
```

### 場景3: 回復到舊版本
```
目的：撤銷最近的問題變更
步驟：
1. 在提交圖形中找到目標版本
2. 點擊該提交節點
3. 在右側面板點擊「安全回復」
4. 確認回復操作
```

### 場景4: 建立功能分支
```
目的：為新功能創建分支
步驟：
1. 確保在正確的基礎分支上
2. 點擊「建立新分支」按鈕
3. 輸入描述性的分支名稱
4. 開始在新分支上開發
```

## ?? 進階使用技巧

### 1. 高效的分支命名
```
功能分支: feature/user-login
修復分支: hotfix/dwg-lock-issue
發布分支: release/v1.1.0
```

### 2. 視覺化導航技巧
- **快速定位**: 使用Ctrl+滑鼠滾輪快速縮放
- **範圍查看**: 先縮小查看全貌，再放大查看細節
- **重置視圖**: 迷失方向時使用「適合視窗」

### 3. 分支管理最佳實踐
- **頻繁提交**: 保持提交顆粒度適中
- **描述性訊息**: 使用清楚的提交訊息
- **及時合併**: 避免長期分離的分支
- **定期清理**: 刪除已合併的功能分支

## ?? 注意事項

### 切換分支前檢查
- 確保當前工作目錄沒有未提交的變更
- 重要檔案建議先備份
- CAD檔案需要完全關閉AutoCAD

### 版本回復警告
- 安全回復會創建新的提交記錄
- 回復操作無法簡單撤銷
- 重要變更前建議創建備份分支

### 效能考量
- 大型儲存庫可能載入較慢
- 複雜分支結構會影響圖形顯示
- 建議限制顯示的提交數量（預設50個）

## ?? 已知限制

### 當前版本限制
1. **簡化的分支線條**: 目前使用簡單的垂直連線
2. **查看變更功能**: 尚未完全實現
3. **分支合併視覺化**: 複雜合併關係顯示簡化
4. **效能優化**: 超大儲存庫可能響應較慢

### 未來改進計劃
1. **真實分支圖形**: 實現Git graph的複雜分支視覺化
2. **檔案變更檢視**: 完整的diff檢視功能
3. **合併操作**: 圖形化分支合併功能
4. **效能優化**: 大型儲存庫的虛擬化載入

## ?? 快捷鍵參考

| 快捷鍵 | 功能 |
|--------|------|
| `Ctrl+Shift+G` | 開啟分支圖形管理器 |
| `滑鼠滾輪` | 縮放圖形 |
| `拖拽` | 平移視圖 |
| `點擊分支` | 切換分支 |
| `點擊節點` | 查看提交詳情 |

## ?? 總結

圖形化分支管理器為GitDWG帶來了專業級的Git視覺化體驗：

### 主要優勢
? **直觀視覺化**: 清楚展示提交歷史和分支關係  
? **便捷操作**: 點擊式的分支切換和版本回復  
? **豐富資訊**: 完整顯示提交詳細資訊  
? **專業外觀**: VS Code級別的圖形化界面  

### 適用用戶
- **CAD設計師**: 管理圖面版本和設計分支
- **專案經理**: 追蹤專案進度和版本里程碑
- **團隊協作**: 協調多人開發和分支管理
- **Git新手**: 學習Git概念的視覺化工具

現在您可以像使用專業開發工具一樣管理CAD專案的版本控制！??