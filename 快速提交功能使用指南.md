# GitDWG 快速提交功能使用指南

## ?? 新功能：一鍵式快速提交

我們新增了「快速提交」功能，解決您提到的工作流程問題！現在您可以在填寫提交訊息後，直接一鍵完成所有操作。

## ?? 兩種提交方式

### 方式1：快速提交（推薦）??
**一鍵完成所有操作，無需分步驟**

#### 使用步驟：
1. **修改您的CAD圖面檔案**
2. **（可選）填寫提交訊息**
   - 如果不填寫，系統會自動產生時間戳訊息
   - 例如：「快速提交 - 2025-01-06 14:30」
3. **點擊「?? 快速提交」按鈕**
4. **完成！**

#### 快速提交的優點：
- ? **一鍵操作**：自動暫存 + 提交
- ? **智慧訊息**：沒有訊息時自動產生
- ? **詳細回饋**：顯示處理的檔案數量
- ? **錯誤處理**：自動處理鎖定檔案
- ? **省時高效**：適合頻繁提交的工作流程

### 方式2：傳統兩步式
**適合需要精確控制的場景**

#### 使用步驟：
1. **修改您的CAD圖面檔案**
2. **填寫提交訊息**（必須）
3. **點擊「暫存所有」**
4. **點擊「提交」**

## ?? 使用建議

### 什麼時候使用快速提交？
- ? **日常工作中的頻繁保存**
- ? **修改單一或少數檔案時**
- ? **不需要特殊提交訊息時**
- ? **想要快速保存進度時**

### 什麼時候使用傳統方式？
- ?? **重要的里程碑提交**
- ?? **需要詳細的提交訊息時**
- ?? **想要檢查暫存內容時**
- ?? **需要選擇性暫存檔案時**

## ?? 功能詳解

### 快速提交的內部流程
```
1. 檢查提交訊息
   ├─ 有訊息 → 使用用戶訊息
   └─ 無訊息 → 自動產生時間戳訊息

2. 自動暫存所有變更
   ├─ 處理CAD檔案鎖定問題
   ├─ 跳過無法暫存的檔案
   └─ 顯示暫存結果

3. 執行提交
   ├─ 使用設定的作者資訊
   ├─ 清空提交訊息框
   └─ 更新Git狀態

4. 顯示結果
   ├─ 成功：顯示提交的檔案數量
   └─ 失敗：顯示詳細錯誤訊息
```

### 按鈕啟用條件
#### 快速提交按鈕啟用條件：
- ? Git儲存庫已載入
- ? 作者姓名已設定
- ? 作者信箱已設定
- ? **有未暫存的變更或未追蹤的檔案**

#### 傳統提交按鈕啟用條件：
- ? Git儲存庫已載入
- ? 作者姓名已設定
- ? 作者信箱已設定
- ? **提交訊息已填寫**
- ? **有已暫存的檔案**

## ?? UI改進

### 新的提交區域設計
```
┌─ 提交變更 ─────────────────────────┐
│ [作者資訊顯示區域]                    │
│                                   │
│ [提交訊息輸入框]                     │
│ （可選，快速提交會自動產生）           │
│                                   │
│ [?? 快速提交] ← 新增！一鍵操作       │
│                                   │
│ [暫存所有] [提交] ← 傳統兩步式        │
│                                   │
│ ?? 說明文字                        │
└─────────────────────────────────┘
```

### 視覺提示
- **快速提交按鈕**：綠色背景，全寬度，醒目顯示
- **說明文字**：提供操作指導
- **工具提示**：詳細的功能說明

## ?? 實際使用範例

### 場景1：修改單個DWG檔案
```
1. 在AutoCAD中修改並保存drawing.dwg
2. 回到GitDWG
3. 直接點擊「?? 快速提交」
4. 系統顯示：「快速提交成功！已提交 1 個檔案」
```

### 場景2：有特定提交訊息
```
1. 修改多個圖面檔案
2. 在提交訊息框輸入：「更新建築立面圖，調整外牆材質」
3. 點擊「?? 快速提交」
4. 系統使用您的訊息進行提交
```

### 場景3：傳統精確控制
```
1. 修改多個檔案
2. 填寫詳細提交訊息
3. 點擊「暫存所有」檢查要提交的檔案
4. 確認無誤後點擊「提交」
```

## ?? 注意事項

### CAD檔案處理
- 快速提交會自動處理被AutoCAD鎖定的檔案
- 鎖定的檔案會被自動跳過，不會中斷流程
- 系統會在狀態訊息中報告跳過的檔案

### 錯誤恢復
- 如果暫存失敗，不會執行提交
- 詳細的錯誤訊息幫助診斷問題
- 可以使用「診斷提交問題」功能獲得解決建議

### 最佳實踐
1. **頻繁使用快速提交**保存進度
2. **重要節點使用傳統方式**添加詳細說明
3. **定期檢查提交歷史**確保記錄完整
4. **遇到問題時使用診斷功能**

## ?? 與其他功能的整合

### 自動更新
- 快速提交後自動重新整理Git狀態
- 提交歷史列表立即更新
- 檔案狀態區域顯示最新狀態

### 狀態反饋
- 詳細的成功訊息，包含處理的檔案數量
- 如果有跳過的檔案，會在訊息中說明
- 錯誤訊息提供具體的解決方向

### 設定保存
- 提交後自動清空訊息框（快速提交）
- 保留作者資訊設定
- 維持其他所有設定狀態

---

**功能狀態**: ? 已完成並可使用  
**建議工作流程**: 日常使用快速提交，重要節點使用傳統方式  
**效果**: 大幅提升Git提交的效率和便利性